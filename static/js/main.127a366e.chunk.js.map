{"version":3,"sources":["components/assets/markerIcon.ts","components/BatteryBar.tsx","components/BtnCustom.tsx","components/styled/popUpContent.ts","components/PopUpContent.tsx","components/Map.tsx","components/example.ts","components/ApiProvider.tsx","components/Modal.tsx","App.tsx","hooks/Filter.tsx","index.tsx"],"names":["blueIcon","L","iconUrl","iconAnchor","greenIcon","OBR","styled","i","props","width","BatteryBar","levelPct","BUTTON","button","top","left","height","PopUpContent","children","onClick","position","CONTENER","div","FLEX","VRAPER","IMG","img","TEXT","h3","data","image","picture","name","src","alt","platesNumber","rangeKm","batteryLevelPct","type","reservation","reservationEnd","BtnCustom","alert","Map","center","MapContainer","lat","lon","zoom","maxZoom","scrollWheelZoom","TileLayer","attribution","url","showCoverageOnHover","map","el","Marker","location","latitude","longitude","icon","status","Popup","id","Math","random","json","objects","discriminator","sideNumber","color","extension","contentType","locationDescription","address","mapColor","rgb","alpha","promotion","description","metadata","ApiContext","createContext","error","ApiProvider","useState","setData","setError","get","a","response","err","useEffect","mounted","Provider","value","Modal","handleClose","open","setOpen","ref","useRef","handleOutsideClick","e","current","contains","target","document","addEventListener","removeEventListener","className","App","isChecked","setIsChecked","batteryLevel","setBateryLevel","useContext","filterData","filter","setfilterData","batteryLeve","filterApi","style","margin","htmlFor","checked","onChange","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.127a366e.chunk.js","sourcesContent":["import * as L from \"leaflet\";\r\n\r\nexport const blueIcon = new L.Icon({\r\n  iconUrl: \"https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|abcdef&chf=a,s,ee00FFFF\",\r\n  iconAnchor: new L.Point(11, 34),\r\n});\r\n\r\nexport const greenIcon = new L.Icon({\r\n  iconUrl: \"https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|2ecc71&chf=a,s,ee00FFFF\",\r\n  iconAnchor: new L.Point(11, 34),\r\n});","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\ntype Props = {\r\n  levelPct: number\r\n};\r\n\r\ninterface StyledProps{\r\n  width: number\r\n}\r\n\r\nconst OBR = styled.i<StyledProps>`\r\n  & {\r\n    margin: auto;\r\n    box-sizing: border-box;\r\n    position: relative;\r\n    display: block;\r\n    width: 30%;\r\n    height: 15%;\r\n    max-width: 50px;\r\n    max-height: 25px;\r\n    transform: scale(var(--ggs, 1));\r\n    border: 2px solid;\r\n    border-radius: 3px;\r\n  }\r\n  &::after,\r\n  &::before {\r\n    content: '';\r\n    display: block;\r\n    box-sizing: border-box;\r\n    position: absolute;\r\n    height: 85%;\r\n    background: currentColor;\r\n    top: 1px;\r\n  }\r\n  &::before {\r\n    right: -4px;\r\n    border-radius: 3px;\r\n    width: 4px;\r\n  }\r\n  &::after {\r\n    width: ${props => props.width - 10}%;\r\n    left: 1px;\r\n    background-color: ${props => props.width > 65 ? 'green' : 'orange'};\r\n    background-color: ${props => props.width <= 30 && 'red'};\r\n  }\r\n`\r\n\r\nfunction BatteryBar({ levelPct }: Props): JSX.Element{  \r\n\r\n  return (      \r\n    <OBR width={levelPct}/>\r\n  );\r\n}\r\n\r\nexport default BatteryBar;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\ntype Props = {\r\n  children: JSX.Element | string,\r\n  onClick: () => void\r\n  position: {left: number, top: number},\r\n  height: number\r\n};\r\n\r\ninterface StyledProps{\r\n  left: number,\r\n  top: number,\r\n  height: number\r\n}\r\n\r\nconst BUTTON = styled.button<StyledProps>`\r\n    margin: 0;\r\n    position: absolute;\r\n    top: ${props => props.top}%;\r\n    left: ${props => props.left}%;\r\n    height: ${props => props.height}px;\r\n    -ms-transform: translate(-50%, -50%);\r\n    transform: translate(-50%, -50%);\r\n    box-shadow:inset 0px 1px 0px 0px #bbdaf7;\r\n    background:linear-gradient(to bottom, #79bbff 5%, #378de5 100%);\r\n    background-color:#79bbff;\r\n    border-radius:6px;\r\n    border:1px solid #84bbf3;\r\n    display:inline-block;\r\n    cursor:pointer;\r\n    color:#ffffff;\r\n    font-family:Arial;\r\n    font-size:15px;\r\n    font-weight:bold;\r\n    padding:6px 24px;\r\n    text-decoration:none;\r\n    text-shadow:0px 1px 0px #528ecc;\r\n    z-index: 999;\r\n    &:hover {\r\n      background:linear-gradient(to bottom, #378de5 5%, #79bbff 100%);\r\n\t    background-color:#378de5;\r\n    }\r\n  `\r\n\r\nfunction PopUpContent({ children, onClick, position, height }: Props): JSX.Element{\r\n\r\n  return (      \r\n    <BUTTON left={position.left} top={position.top} height={height} onClick={onClick}>{ children }</BUTTON>\r\n  );\r\n}\r\n\r\nexport default PopUpContent;","import styled from \"styled-components\";\r\n\r\nexport const CONTENER = styled.div`\r\n    position: relative;\r\n  `\r\nexport const FLEX = styled.div`\r\ndisplay: flex;\r\nmargin: auto;\r\n`\r\n\r\nexport const VRAPER = styled.div`\r\nwidth: 120px;\r\nheight:100px;\r\ntext-align: center;\r\n`\r\nexport const IMG = styled.img`\r\nheight: 50%;\r\nmargin: 0;\r\nmargin-bottom: 8px;\r\npadding: 0;\r\n`\r\n\r\nexport const TEXT = styled.h3`\r\nmargin: 3px;\r\npadding: 0;\r\n`","import React from 'react';\r\nimport BatteryBar from './BatteryBar';\r\nimport BtnCustom from './BtnCustom';\r\nimport { CONTENER, FLEX, IMG, TEXT, VRAPER } from './styled/popUpContent';\r\nimport { dataElement } from './types';\r\n\r\ninterface Props {\r\n  data: dataElement\r\n}\r\n\r\nfunction PopUpContent(props: Props): JSX.Element{\r\n\r\n  const { data } = props;\r\n\r\n  //const image = `https://android.jrotor.com/api/attachments/${data.picture.name}`;\r\n  const image = `./img/${data.picture.name}.jpg`\r\n\r\n  return (\r\n    <CONTENER>\r\n      <FLEX>\r\n        <VRAPER>\r\n          <IMG src={image} alt={data.name} />\r\n          <TEXT>{data.platesNumber}</TEXT>\r\n        </VRAPER>\r\n        \r\n        <VRAPER>\r\n          <TEXT>{data.rangeKm} km</TEXT>\r\n          <BatteryBar levelPct={data.batteryLevelPct}/>\r\n          <TEXT>{data.batteryLevelPct} %</TEXT>\r\n        </VRAPER>\r\n      </FLEX>\r\n      <FLEX>\r\n        <VRAPER>\r\n          <TEXT>{data.type}</TEXT>\r\n          <TEXT>reservation: {data.reservation ? data.reservationEnd : \"--\"}</TEXT>\r\n        </VRAPER>\r\n        \r\n        <VRAPER>\r\n          <TEXT>{data.name}</TEXT>\r\n        </VRAPER>\r\n      </FLEX>\r\n      \r\n    <BtnCustom onClick={() => alert('rental function')} position={{left: 25, top: 85}} height={30}>Rent</BtnCustom>\r\n    </CONTENER>\r\n  );\r\n}\r\n\r\nexport default PopUpContent;","import React from 'react';\r\n\r\nimport { MapContainer, Marker, Popup, TileLayer } from 'react-leaflet'\r\nimport MarkerClusterGroup from \"react-leaflet-markercluster\";\r\n\r\nimport { blueIcon, greenIcon } from './assets/markerIcon';\r\nimport PopUpContent from './PopUpContent';\r\nimport { dataElement } from './types';\r\n\r\ninterface Props {\r\n  data: dataElement[],\r\n  center: {lat: number, lon: number}\r\n}\r\n\r\nfunction Map(props: Props): JSX.Element{\r\n\r\n  const { data, center } = props;\r\n\r\n  return (\r\n    <>\r\n    <MapContainer center={[center.lat, center.lon]} zoom={13} maxZoom={18} scrollWheelZoom={true}>\r\n      <TileLayer\r\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n      />\r\n\r\n      <MarkerClusterGroup showCoverageOnHover={false}>\r\n        {data.map((el: dataElement) => (\r\n          <Marker position={[el.location.latitude, el.location.longitude]} icon={el.status === \"AVAILABLE\" ? greenIcon : blueIcon} key={el.id + Math.random()}> \r\n            <Popup>\r\n              <PopUpContent data={el}  />\r\n            </Popup>\r\n          </Marker>))\r\n        }\r\n      </MarkerClusterGroup>\r\n    </MapContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Map;","export const json = {\r\n  objects: [{\r\n    discriminator: \"vehicle\",\r\n    platesNumber: \"ELXXXXX\",\r\n    sideNumber : \"Z3-PVAN-01\",\r\n    color: \"White\",\r\n    type: \"TRUCK\",\r\n    picture: {\r\n      id: \"e7ace1de-ab7f-4120-922d-23441a041bd9\",\r\n      name: \"e7ace1de-ab7f-4120-922d-23441a041bd9\",\r\n      extension: null,\r\n      contentType: null\r\n    },\r\n    rangeKm: 193,\r\n    batteryLevelPct: 98,\r\n    reservationEnd: null,\r\n    reservation: null,\r\n    status: \"AVAILABLE\",\r\n    locationDescription: null,\r\n    address: null,\r\n    mapColor: {\r\n      rgb: \"ffffff\",\r\n      alpha: 0.5\r\n    },\r\n    promotion: null,\r\n    id: \"00000000-0000-0000-0005-000000000003\",\r\n    name: \"Enigma Python Van\",\r\n    description: null,\r\n    location: {\r\n      latitude: 51.77028,\r\n      longitude: 19.46761\r\n    },\r\n    metadata: null\r\n  }, {\r\n  discriminator: \"vehicle\",\r\n    platesNumber: \"ELXXXXX\",\r\n    sideNumber: \"Z1-WH-01\",\r\n    color: \"White\",\r\n    type: \"CAR\",\r\n    picture: {\r\n      id: \"9818875c-9e8b-4dc5-98ae-5909a8d632e2\",\r\n      name: \"9818875c-9e8b-4dc5-98ae-5909a8d632e2\",\r\n      extension: null,\r\n      contentType: null\r\n    },\r\n    rangeKm: 134,\r\n    batteryLevelPct: 86,\r\n    reservationEnd: null,\r\n    reservation: null,\r\n    status: \"AVAILABLE\",\r\n    locationDescription: null,\r\n    address: null,\r\n    mapColor: {\r\n      rgb: \"ffffff\",\r\n      alpha: 0.5\r\n    },\r\n    promotion: null,\r\n    id: \"00000000-0000-0000-0005-000000000001\",\r\n    name: \"Nissan Leaf White\",\r\n    description: null,\r\n    location: {\r\n    latitude: 51.76589,\r\n      longitude: 19.46125\r\n    },\r\n  metadata: null\r\n  }, {\r\n  discriminator: \"vehicle\",\r\n    platesNumber: \"ELXXXXX\",\r\n    sideNumber: \"Z4-PCAR-01\",\r\n    color: \"White\",\r\n    type: \"CAR\",\r\n    picture: {\r\n      id: \"61133b4c-2e9b-4da9-b22c-009baad8eadd\",\r\n      name: \"61133b4c-2e9b-4da9-b22c-009baad8eadd\",\r\n      extension: null,\r\n      contentType: null\r\n    },\r\n    rangeKm: 193,\r\n    batteryLevelPct: 98,\r\n    reservationEnd: null,\r\n    reservation: null,\r\n    status: \"AVAILABLE\",\r\n    locationDescription: null,\r\n    address: null,\r\n    mapColor: {\r\n      rgb: \"ffffff\",\r\n      alpha: 0.5\r\n    },\r\n    promotion: null,\r\n    id: \"00000000-0000-0000-0005-000000000004\",\r\n    name: \"Enigma Python Car\",\r\n    description: null,\r\n    location: {\r\n      latitude: 51.7678,\r\n      longitude: 19.4458\r\n    },\r\n    metadata: null\r\n  }, {\r\n    discriminator: \"vehicle\",\r\n    platesNumber: \"ELXXXXX\",\r\n    sideNumber: \"Z4-PCAR-01\",\r\n    color: \"White\",\r\n    type: \"CAR\",\r\n  picture: {\r\n      id: \"61133b4c-2e9b-4da9-b22c-009baad8eadd\",\r\n      name: \"61133b4c-2e9b-4da9-b22c-009baad8eadd\",\r\n      extension: null,\r\n      contentType: null\r\n    },\r\n    rangeKm: 193,\r\n    batteryLevelPct: 98,\r\n    reservationEnd: \"35m\",\r\n    reservation: true,\r\n    status: \"RESERVED\",\r\n    locationDescription: null,\r\n    address: null,\r\n    mapColor: {\r\n      rgb: \"ffffff\",\r\n      alpha: 0.5\r\n    },\r\n    promotion: null,\r\n    id: \"00000000-0000-0000-0005-000000000004\",\r\n    name: \"Enigma Python Car\",\r\n    description: null,\r\n    location: {\r\n      latitude: 51.77621,\r\n      longitude: 19.45475\r\n    },\r\n    metadata: null\r\n  }, {\r\n    discriminator: \"vehicle\",\r\n    platesNumber: \"ELXXXXX\",\r\n    sideNumber: \"Z1-WH-01\",\r\n    color: \"White\",\r\n    type: \"CAR\",\r\n    picture: {\r\n      id: \"9818875c-9e8b-4dc5-98ae-5909a8d632e2\",\r\n      name: \"9818875c-9e8b-4dc5-98ae-5909a8d632e2\",\r\n      extension: null,\r\n      contentType: null\r\n    },\r\n    rangeKm: 34,\r\n    batteryLevelPct: 23,\r\n    reservationEnd: \"10m\",\r\n    reservation: true,\r\n    status: \"RESERVED\",\r\n    locationDescription: null,\r\n    address: null,\r\n    mapColor: {\r\n      rgb: \"ffffff\",\r\n      alpha: 0.5\r\n    },\r\n    promotion: null,\r\n    id: \"00000000-0000-0000-0005-000000000001\",\r\n    name: \"Nissan Leaf White\",\r\n    description: null,\r\n    location: {\r\n      latitude: 51.7634,\r\n      longitude: 19.4713\r\n    },\r\n    metadata: null\r\n  }, {\r\n    discriminator: \"vehicle\",\r\n    platesNumber: \"ELXXXXX\",\r\n    sideNumber: \"Z1-WH-01\",\r\n    color: \"White\",\r\n    type: \"CAR\",\r\n    picture: {\r\n      id: \"9818875c-9e8b-4dc5-98ae-5909a8d632e2\",\r\n      name: \"9818875c-9e8b-4dc5-98ae-5909a8d632e2\",\r\n      extension: null,\r\n      contentType: null\r\n    },\r\n    rangeKm: 97,\r\n    batteryLevelPct: 63,\r\n    reservationEnd: null,\r\n    reservation: null,\r\n    status: \"AVAILABLE\",\r\n    locationDescription: null,\r\n    address: null,\r\n    mapColor: {\r\n      rgb: \"ffffff\",\r\n      alpha: 0.5\r\n    },\r\n    promotion: null,\r\n    id: \"00000000-0000-0000-0005-000000000001\",\r\n    name: \"Nissan Leaf White\",\r\n    description: null,\r\n    location: {\r\n      latitude: 51.7763,\r\n      longitude: 19.4776\r\n    },\r\n    metadata: null\r\n  }, {\r\n    discriminator: \"vehicle\",\r\n    platesNumber: \"ELXXXXX\",\r\n    sideNumber: \"Z3-PVAN-01\",\r\n    color: \"White\",\r\n    type: \"TRUCK\",\r\n    picture: {\r\n      id: \"e7ace1de-ab7f-4120-922d-23441a041bd9\",\r\n      name: \"e7ace1de-ab7f-4120-922d-23441a041bd9\",\r\n      extension: null,\r\n      contentType: null\r\n    },\r\n    rangeKm: 123,\r\n    batteryLevelPct: 75,\r\n    reservationEnd: \"2m\",\r\n    reservation: true,\r\n    status: \"RESERVED\",\r\n    locationDescription: null,\r\n    address: null,\r\n    mapColor: {\r\n      rgb: \"ffffff\",\r\n      alpha: 0.5\r\n    },\r\n    promotion: null,\r\n    id: \"00000000-0000-0000-0005-000000000003\",\r\n    name: \"Enigma Python Van\",\r\n    description: null,\r\n    location: {\r\n      latitude: 51.7582,\r\n      longitude: 19.4482\r\n    },\r\n    metadata: null\r\n  }]\r\n}","import React, { createContext, ReactNode, useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { dataElement } from './types';\r\nimport { json } from './example';\r\n\r\ninterface ApiContextType {\r\n  data: dataElement[] | null,\r\n  error: any\r\n}\r\n\r\nconst ApiContext = createContext<any>(\r\n  {\r\n    data: null,\r\n    error: {}\r\n  } as ApiContextType\r\n);\r\n\r\n//const CORSREQUEST = 'https://cors-anywhere.herokuapp.com/https://android.jrotor.com/api/map?objectType=VEHICLE';\r\n\r\nfunction ApiProvider({ children }: { children: ReactNode }): JSX.Element{\r\n  const [data, setData] = useState<dataElement[] | null >();\r\n  const [error, setError] = useState<any>();\r\n\r\n  const get = async () => {\r\n    try {\r\n      //let response = await axios.get(CORSREQUEST);\r\n      let response = json\r\n      if(response) {\r\n        //setData(response.data.objects);\r\n        setData(response.objects);\r\n      }\r\n    }catch(err) {\r\n      setError(err);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let mounted = false;\r\n    if(!mounted) {\r\n      get();      \r\n    }\r\n    return () => {\r\n      mounted = true;\r\n    }\r\n  }, []);\r\n  \r\n  return (\r\n    <ApiContext.Provider value={{data, error}}>\r\n      {children}\r\n    </ApiContext.Provider>\r\n  );\r\n}\r\n\r\nexport default ApiProvider;\r\n\r\nexport function useApi() {\r\n  return useContext(ApiContext);\r\n}","import { Dispatch, SetStateAction, useEffect, useRef } from \"react\";\r\nimport BtnCustom from './BtnCustom';\r\n\r\nimport '../App.css';\r\n\r\ninterface Props {\r\n  handleClose: () => void,\r\n  open: boolean,\r\n  setOpen: Dispatch<SetStateAction<boolean>>,\r\n  children: JSX.Element | string\r\n}\r\n\r\nconst Modal = ({ handleClose, open, setOpen, children }: Props) => {\r\n  const ref: any = useRef();\r\n\r\n  useEffect(() => {\r\n    const handleOutsideClick = (e: { target: any; }) => {\r\n      if (open && ref.current && !ref.current.contains(e.target)) {\r\n        handleClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"click\", handleOutsideClick);\r\n\r\n    return () => {\r\n      // Cleanup the event listener\r\n      document.removeEventListener(\"click\", handleOutsideClick);\r\n    };\r\n  }, [open, handleClose]);\r\n  return (\r\n    <div className={`${open ? \"modal-container\" : \"close\"}`}>\r\n      <div ref={ref} className=\"modal\">\r\n        {children}\r\n        <BtnCustom onClick={handleClose} position={{left: 50, top: 90}} height={40}>\r\n          Close\r\n        </BtnCustom>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;","import React, { useState } from 'react';\n\nimport Map from './components/Map';\n\nimport './App.css';\nimport \"leaflet/dist/leaflet.css\";\nimport 'react-leaflet-markercluster/dist/styles.min.css';\n\nimport { useApi } from './components/ApiProvider';\nimport Modal from './components/Modal';\nimport BtnCustom from './components/BtnCustom';\nimport filterApi from './hooks/Filter';\n\nfunction App() {\n\n  const [isChecked, setIsChecked] = useState<boolean>(false);\n  const [batteryLevel, setBateryLevel] = useState<boolean>(false);\n\n  const {data, error} = useApi();\n\n  const filterData = filterApi(data, {batteryLeve: batteryLevel, status: isChecked});\n\n  const [open, setOpen] = useState<boolean>(false);\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);  \n\n  const checkHandler = () => {\n    setIsChecked(!isChecked)\n  }\n  const batterykHandler = () => {\n    setBateryLevel(!batteryLevel);\n  }\n  \n  return (\n    <div className='App'>\n      {error ? <p>something went wrong</p> :\n      filterData ? (\n        <>\n          <Modal open={open} handleClose={handleClose} setOpen={setOpen}>\n            <>\n            <div style={{margin: '30px'}}>\n              <label htmlFor=\"checkbox\">Available: </label>\n              <input type=\"checkbox\" id=\"checkbox\" checked={isChecked} onChange={checkHandler}/>\n            </div>\n            <div>\n              <label htmlFor=\"checkbox\">Battery greater than 50% : </label>\n              <input type=\"checkbox\" id=\"checkbox\" checked={batteryLevel} onChange={batterykHandler}/>\n            </div>\n            </>\n          </Modal>\n          <BtnCustom onClick={handleOpen} position={{left: 50, top: 90}} height={40}>Filter</BtnCustom>\n          {/* set center data position on user location */}\n          <Map data={filterData} center={{lat: 51.77687, lon: 19.45468}}/>\n        </>\n      ) : <p>loading...</p> }      \n    </div>\n  );\n}\n\nexport default App;\n","import { useEffect, useState } from 'react';\r\nimport { dataElement } from '../components/types';\r\n\r\nexport default function FilterApi(data: dataElement[], filter: {batteryLeve: boolean, status: boolean}): dataElement[] | null {\r\n  const [filterData, setfilterData] = useState<dataElement[] | null>(null);\r\n\r\n  useEffect(() => {\r\n    if(data){\r\n      if(filter.status) {\r\n        setfilterData(\r\n          data.filter((el: dataElement) => {\r\n            return el.status === \"AVAILABLE\" && filter.batteryLeve ? el.batteryLevelPct > 50 : el.batteryLevelPct > 0;\r\n          })\r\n        )\r\n      } else {\r\n        setfilterData(\r\n          data.filter((el: dataElement) => {\r\n            return filter.batteryLeve ? el.batteryLevelPct > 50 : el.batteryLevelPct > 0;\r\n          })\r\n        )\r\n      }\r\n    }\r\n  }, [data, filter.batteryLeve, filter.status]);\r\n\r\n  return filterData;\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport ApiProvider from './components/ApiProvider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApiProvider>\n      <App />\n    </ApiProvider>    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}